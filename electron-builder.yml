# electron-builder.yml
# Place this file in your project root

appId: com.prism.editor
productName: Prism Editor
copyright: Copyright Â© 2025

# Directories
directories:
  output: dist
  buildResources: resources

# Files to include
files:
  - "out/**/*"
  - "extensions/**/*"
  - "node_modules/**/*"
  - "resources/**/*"
  - "package.json"
  - "!**/*.ts"
  - "!**/*.map"
  - "!**/test/**"
  - "!**/*.md"

# Compression
compression: normal
asar: true

# Linux configuration
linux:
  target:
    - AppImage
    - deb
    - rpm
  category: Development
  icon: resources/icon.icns
  executableName: prism-editor
  artifactName: "${productName}-${version}-${arch}.${ext}"

# Windows configuration  
win:
  target:
    - nsis
    - portable
  icon: resources/icon.ico
  artifactName: "${productName}-Setup-${version}.${ext}"

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  perMachine: false
  createDesktopShortcut: always

# macOS configuration
mac:
  target:
    - dmg
    - zip
  category: public.app-category.developer-tools
  icon: resources/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: resources/entitlements.mac.plist
  entitlementsInherit: resources/entitlements.mac.plist
  artifactName: "${productName}-${version}-${arch}.${ext}"

dmg:
  sign: false
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

# Publish configuration (disabled for manual releases)
publish:
  provider: generic
  url: https://example.com/